\chapter{Countable Sets}

We are often interested in sets that are not too big, i.e., that are no bigger than $\NN$.


\begin{defn}
	For a set $X$, let $\powerset_{\text{ne}}(X)$ denote the set of non-empty subsets of $X$. That is, \[\powerset_{\text{ne}}(X) = \{A\in\powerset(X)\st \exists x\in X.x\in A\}\]
\end{defn}

\begin{lemma}
	There is a function $\fromto \mu{\powerset_{\text{ne}}(\NN)}\NN$ so that for each $A\in \powerset_{\text{ne}}(\NN)$, 
	\begin{itemize}
		\item $\mu(A)\in A$.
		\item if $n\in A$, then $\mu(A)\leq n$.
	\end{itemize}
	
	\begin{proof}
		We define a relation $M\subseteq{\powerset_{\text{ne}}(\NN)\times \NN}$ by letting $A\mathrel{M} n$ hold if and only if $n\in A$ and for all $m\in A$, $n\leq m$. 
		That is, $A\mathrel{M} n$ holds only for the least element of $A$, if such an element exists.
		Clearly, $M$ is deterministic, because $\NN$ is linearly ordered.
		So no set can have two distinct smallest elements.
		
		Suppose $A$ has no least element. By induction, we show that $A$ must be empty, i.e., $k\notin A$ for all $k\in \NN$.
		\begin{itemize}
			\item{}[Strong Inductive Hypothesis] Assume that for some $k$, it is the case that for each $j<k$, $j\notin A$. 
			\item{}[Inductive Step] We claim that $k\notin A$. 
			For otherwise, by the inductive hypothsis, all natural numbers less than $k$ do not belong to $A$. 
			So $k$ would be the least element of $A$. 
		\end{itemize} 
		Hence for any non-empty $A\subseteq \NN$, there is a least element $n$. 
		Thus there is an element $n$ for which $A\mathrel{M}n$. 
		This shows that $M$ is total. 
		So it determines the function $\mu$.
	\end{proof}
\end{lemma}

\begin{defn}
An \emph{initial segment of $\NN$} is a subset $S\subseteq \NN$ so that if $n\in S$ and $m\leq n$, then $m\in S$. Clearly, $\NN$ is an initial segment of $\NN$.
For each $n\in \NN$, let $\overline n = \{k\in \NN\st k<n\}$. So each $\overline n$ is also an initial segment.

A set $A$ is countable if $A\sim S$ for some $S$, an initial segment of $\NN$. Also $A$ is \emph{countably infinite} if $A\sim \NN$.
\end{defn}

Initial segments of $\NN$ are sets like $\overline 4=\{0,1,2,3\}$, or $\overline 6 = \{0,1,2,3,4,5\}$. 
The set $\{1,2\}$ is not an initial segment of $\NN$ because $0\leq 1$ but $0\notin \{1,2\}$. In fact, it is easy to see that the only initial segments are $\NN$ itself and the sets $\overline n$ for $n\in\NN$. 
So a set is countable if and only if either (i) it is finite ($A\sim\overline n$ for some $n\in\NN$) or (ii) it is the same size as $\NN$. 
Intuitively, a set is countable, if we can count its elements by putting them in a correspondence with the initial counting numbers: $a_0$, $a_1$, \ldots,  
We already know, for example, that $\powerset(\NN)$ is \emph{not} countable.

Other equivalent characterizations of countability are useful.

\begin{theorem}
	For a set $A$, the following are equivalent.
	\begin{enumerate}
		\item $A$ is countable;
		\item either $A$ is finite or $A\sim \NN$. 
		\item either $A=\emptyset$ or there is an epimorphism from $\NN$ to $A$; and
		\item $A\lesssim\NN$;
	\end{enumerate}
	
	\begin{proof}
		Suppose $\fromto fAS$ is a bijection where $S$ is an initial segment of $\NN$. If $S=\overline n$, then $A$ is finite. Otherwise, $A\sim \NN$.
		
		Suppose $A$ is finite and not empty. So $A$ can be written as $\{a_0,a_1,\ldots,a_n\}$. Define $\fromto f\NN{A}$ by 
		\[f(m) = \begin{cases}
		 a_m&\text{if $m\leq n$}\\
		 a_n&\text{otherwise}
		\end{cases}
		\]
		This clearly is an epimorphism. If $A\sim\NN$, then the bijection from $\NN$ to $A$ is an epimorphism.
		
		Suppose $A$ is empty. Then obviously, $A\lesssim \NN$. 
		Suppose there is an epimorphism $\fromto e\NN{A}$. 
		For each $a\in A$, then, $e^-(a)$ is not empty. 
		Hence it has a least element. 
		Define $\fromto mA\NN$ by letting $m(a)$ be the least natural number in $e^-(a)$. 
		Since the sets $e^-(a)$ form a partition of $A$, the function $m$ is a monomorphism.
		
		Suppose $A\lesssim \NN$, so we may fix a monomorphism $\fromto mA\NN$. 
		For each $a\in A$, the set $A_a = \{b\in A\st m(b)<m(a)\}$ is finite because $m$ is one-to-one and there are at most $m(a)$ elements $b\in A$ having $m(b)<m(a)$.
		Define the function $\fromto f A\NN$ by letting $f(a)$ be the size of $A_a$. 
		Then $f$ is one-to-one. 
		For suppose $a\neq b$. 
		Then $m(a)\neq m(b)$. 
		Without loss of generality, suppose $m(a)<m(b)$.
		Then $A_a\subseteq A_b$, but $a\in A_b$ and $b\notin A_b$.
		So $A_a$ has strictly fewer elements than $A_b$.
		Hence $f(a)<f(b)$. Also, the range of $f$ is an initial segment.
		By induction on $n$, if $n<f(a)$, then there is some $b\in A$ so that $f(b)=n$.
		\begin{itemize}
			\item{}[Basis] If $0<f(a)$, then $A_a$ is not empty. 
			So there is an element $b \in A_a$ for which $m(b)$ is minimal. 
			That is, $A_b=\emptyset$.
			\item{}[Inductive Hypothesis] Assume that for some $k\in\NN$ it is the case that if $k<f(a)$, then there is some $b\in A$ for which $f(b)=k$.
			\item{}[Inductive Step] Suppose $k^\nxt < f(a)$. 
			Then $k<f(a)$. 
			So by the inductive hypothesis, there is an element $c\in A$ for which $f(c)=k$. But also $A_a\setminus A_c \neq \emptyset$. Let $b$ be the element of $A_a\setminus A_c$ so that $m(b)$ is minimal. Then $A_b = A_c\cup\{c\}$. So $f(b)=k^\nxt$.
		\end{itemize}
	\end{proof}
\end{theorem}



\begin{lemma}
	If $A$ and $B$ are countable, then so is $A\times B$.
	If $A$ and $B$ are countable, then so is $A\cup B$.
	If $I$ is countable and for each $i\in I$, $A_i$ is countable, then $\bigcup_{i\in I}A_i$ is countable.
	If $A$ is countable, then so is $\List[A]$.
	
	\begin{proof}
		The assumption that $I$ is countable means there is a surjection $\fromto f\NN I$. Likewise, the assumption that each $A_i$ is countable means there is a surjection $\fromto {g_i}\NN{A_i}$ for each $i\in I$. It suffices now to show that there is a surjection fromt $\NN\times \NN$ to $\bigcup_{i\in I}A_i$.
		
		Let $\fromto h{\NN\times \NN}\bigcup_{i\in I}A_i$ y defined by $h(m,n) = g_{f(m}(n)$. For $x\in \bigcup_{i\in I}A_i$, $x\in  A_k$ for some $k\in I$. Since $g_k$ is a surjection, $x = g_k(n)$ for some $n\in\NN$. 
		But likewise, $f$ is a surjection, so $k = f(m)$ for some $m\in\NN$. 
		Hence $x = g_{f(m)}(n) = h(m,n)$.
	\end{proof}
\end{lemma}

