\makeatletter
\renewcommand*{\beforepartskip}{\null\vskip4cm}
\renewcommand*{\afterpartskip}{\par\vfil%
\@afterindentfalse\@afterheading}
\makeatother

\def\NN{\mathbb N}
\def\RR{\mathbb R}
\def\CC{\mathbb C}
\def\QQ{\mathbb Q}
\def\ZZ{\mathbb Z}
\def\One{\mathbb 1}
\def\Two{\mathbb 2}
\def\tt{\textsc{t}}
\def\ff{\textsc{f}}

\newcommand{\printbreak}{\iftoggle{printformatting}{\newpage}{}}
\newcommand{\ipadbreak}{\iftoggle{ipadformatting}{\newpage}{}}
\newcommand{\kindlebreak}{\iftoggle{kindleformatting}{\newpage}{}}

\newlength{\proofsep}
\setlength{\proofsep}{1.5\baselineskip}
\newenvironment{proof}{\vskip\proofsep\noindent \textbf{Proof:}\ }{$\Box$}

\newcommand{\id}{\textsf{id}}

\newcommand{\st}{\,\mid\,}

\newcommand{\iso}{\simeq}

\newcommand{\fromto}[3]{{#1}\colon{#2}\to{#3}}
\newcommand{\sfromto}[3]{#2\stackrel{#1}{\longrightarrow}#3}
\newcommand{\powerset}{{\mathcal{P}}}

\makeatletter
\newcommand*{\doublerightarrow}[2]{\mathrel{
  \settowidth{\@tempdima}{$\scriptstyle#1$}
  \settowidth{\@tempdimb}{$\scriptstyle#2$}
  \ifdim\@tempdimb>\@tempdima \@tempdima=\@tempdimb\fi
  \mathop{\vcenter{
    \offinterlineskip\ialign{\hbox to\dimexpr\@tempdima+1em{##}\cr
    \rightarrowfill\cr\noalign{\kern-.2ex}
    \rightarrowfill\cr}}}\limits^{\!#1}_{\!#2}}}
\newcommand*{\doubleleftarrow}[2]{\mathrel{
  \settowidth{\@tempdima}{$\scriptstyle#1$}
  \settowidth{\@tempdimb}{$\scriptstyle#2$}
  \ifdim\@tempdimb>\@tempdima \@tempdima=\@tempdimb\fi
  \mathop{\vcenter{
    \offinterlineskip\ialign{\hbox to\dimexpr\@tempdima+1em{##}\cr
    \leftarrowfill\cr\noalign{\kern.5ex}
    \leftarrowfill\cr}}}\limits^{\!#1}_{\!#2}}}
\makeatother

\newcommand{\symb}[1]{{\mathord{\textsf{#1}}}}
\newcommand{\curry}{\mathord{\textsf{curry}}}
\newcommand{\suc}{\mathord{\textsf{suc}}}
\newcommand{\pred}{\mathord{\textsf{pred}}}

\newcommand{\nxt}{\curvearrowright}
\newcommand{\len}{\mathord{\textsf{len}}}
\newcommand{\map}{\mathord{\textsf{map}}}
\newcommand{\appl}{\mathord{\textsf{appl}}}
\newcommand{\inj}{\mathord{\textsf{inj}}}
\newcommand{\constant}{\mathord{\textsf{c}}}
\newcommand{\List}{\mathord{\textsf{List}}}
\newcommand{\srec}{\mathord{\textsf{s-rec}}}
\newcommand{\primrec}{\mathord{\textsf{p-rec}}}
\newcommand{\rank}{\mathord{\textsf{rank}}}
\newcommand{\suit}{\mathord{\textsf{suit}}}
\newcommand{\size}[1]{{\lVert #1\rVert}}
\newcommand{\ddiv}{\mathop{/\mkern-5mu/}}


\newcommand{\pluseq}{\mathrel{\mathord+\mathord=}}
\newcommand{\minuseq}{\mathrel{\mathord-\mathord=}}
\newcommand{\timeseq}{\mathrel{\mathord*\mathord=}}
\newcommand{\diveq}{\mathrel{\mathord\ddiv\mathord=}}
\newcommand{\modeq}{\mathrel{\mathord\%\mathord=}}
\newcommand{\defeq}{\coloneqq}

\newcommand*{\treewedge}{%
\mathrel{\vcenter{\offinterlineskip
\vskip-2ex\hbox{$\wedge$}}}}

\newcommand{\ignore}[1]{}

\newlist{exerciseslist}{enumerate}{1}
\setlist[exerciseslist]{resume,label=\arabic*.}
\newenvironment{exerciselist}{\begin{exerciseslist}}{\end{exerciseslist}}
%\newenvironment{nextexercise}{\begin{enumerate}[resume=exercises]}{\end{enumerate}}

\newenvironment{goal}[1]{\noindent\textbf{#1}\begin{itemize}}{\end{itemize}}

\makeatletter\@addtoreset{exerciseslisti}{chapter}\makeatother